
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Diablo IV Inventory Damage Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #111; color: #eee; padding: 20px; }
        .section { margin-bottom: 20px; }
        input, textarea, select, label { margin: 5px 0; display: block; width: 100%; max-width: 400px; }
        .output { font-weight: bold; color: #4caf50; margin-top: 20px; }
        table { border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 6px 10px; border: 1px solid #555; }
        .armor-table th { background-color: #222; }
    </style>
</head>
<body>
    <h1>Diablo IV Full Inventory Damage Tracker</h1>

    <div class="section">
        <label>Weapon Damage: <input type="number" id="weaponDamage" value="662"></label>
        
    <label>Skill Coefficient (final result will auto-calculate):</label>
    <div>
        <label>Base Skill Multiplier: <input type="number" id="baseSkill" value="2.0" step="0.1"></label>
        <label>+Skill Ranks Bonus (%): <input type="number" id="skillRanks" value="0" step="0.1"></label>
        <label>+Paragon Node Modifier (%): <input type="number" id="paragonBonus" value="0" step="0.1"></label>
        <label>Other Buffs (%): <input type="number" id="otherSkillMods" value="0" step="0.1"></label>
        <p><strong>Calculated Skill Coefficient:</strong> <span id="skillCoeffResult">2.0</span></p>
    </div>
    <label hidden>Skill Coefficient:
    
            <select id="skillCoefficient">
                <option value="2.4">Upheaval (~2.4)</option>
                <option value="1.1">Rend (~1.1 DoT)</option>
                <option value="3.8">Hammer of the Ancients (~3.8)</option>
                <option value="1.2">Bash (~1.2)</option>
                <option value="5.0">Iron Maelstrom (~5.0)</option>
                <option value="2.0">Custom (2.0)</option>
            </select>
        </label>
        <label>Crit Chance (%): <input type="number" id="critChance" value="50.8"></label>
        <label>Crit Damage (%): <input type="number" id="critDamage" value="2435.9"></label>
        <label>Vulnerable Bonus (%): <input type="number" id="vulnerableBonus" value="263"></label>
        <label>Main Stat (Strength/Dex/Int/Will/Agility): <input type="number" id="mainStat" value="2177"></label>
    </div>

    <div class="section">
        <h2>Armor & Accessory Stat Contributions</h2>
        <table class="armor-table">
            <thead>
                <tr><th>Slot</th><th>Additive Bonus (%)</th><th>Multiplicative (x)?</th><th>Notes (Aspect Type)</th></tr>
            </thead>
            <tbody id="armorTable">
                <tr><td>Helmet</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Chest</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Gloves</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Pants</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Boots</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Amulet</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Ring 1</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
                <tr><td>Ring 2</td><td><input type="number" class="additive" value="0"></td><td><input type="checkbox" class="xmult"></td><td><input type="text" class="notes" value=""></td></tr>
            </tbody>
        </table>
    </div>

    <button onclick="calculateInventoryDamage()">Calculate Total Damage</button>

    <div class="output">
        <p id="resultText"></p>
    </div>

    <script>
        function calculateInventoryDamage() {
            const weaponDamage = parseFloat(document.getElementById("weaponDamage").value);
            
    const baseSkill = parseFloat(document.getElementById("baseSkill").value);
    const skillRanks = parseFloat(document.getElementById("skillRanks").value) / 100;
    const paragonBonus = parseFloat(document.getElementById("paragonBonus").value) / 100;
    const otherSkillMods = parseFloat(document.getElementById("otherSkillMods").value) / 100;
    const skillCoefficient = baseSkill * (1 + skillRanks + paragonBonus + otherSkillMods);
    document.getElementById("skillCoeffResult").innerText = skillCoefficient.toFixed(2);
    
            const critChance = parseFloat(document.getElementById("critChance").value) / 100;
            const critDamage = parseFloat(document.getElementById("critDamage").value) / 100;
            const vulnerableBonus = parseFloat(document.getElementById("vulnerableBonus").value) / 100;
            const mainStat = parseFloat(document.getElementById("mainStat").value);
            const baseDamage = weaponDamage * skillCoefficient;

            // Sum all additive bonuses
            const additiveInputs = document.querySelectorAll(".additive");
            let totalAdditive = 0;
            additiveInputs.forEach(input => {
                totalAdditive += parseFloat(input.value) || 0;
            });

            const additiveDamage = baseDamage * (1 + totalAdditive / 100);
            const critMult = 1 + (critChance * critDamage);
            const critDamageTotal = additiveDamage * critMult;
            const vulnDamage = critDamageTotal * (1 + vulnerableBonus);
            const mainStatMult = 1 + (mainStat * 0.001);
            let total = vulnDamage * mainStatMult;

            // Apply multiplicative aspects
            const xmults = document.querySelectorAll(".xmult");
            xmults.forEach(box => {
                if (box.checked) total *= 1.5; // assuming avg x value
            });

            document.getElementById("resultText").innerText = `Estimated Total Damage: ${Math.round(total).toLocaleString()}`;
        }
    </script>
</body>
</html>
